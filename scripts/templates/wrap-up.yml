needs: []
runs-on: macos-latest
steps:
  - name: Checkout ğŸ›ï¸
    uses: actions/checkout@v2.3.1
  - name: Use Node v14
    uses: actions/setup-node@v2
    with:
      node-version: "14"
  - name: prepare
    run: |
      mkdir out
      mkdir podcasts
      mkdir out/.github
      mkdir out/.github/workflows
      cp LICENSE.txt out/LICENSE.txt
      cp ReadMe.md out/ReadMe.md
      node out/lib/wrap-up.js
      cp -r podcasts out/podcasts
      cp dist/.github/workflows/release.yml out/.github/workflows/release.yml
      rm -rf temp
  - name: Verify Changed files ğŸ’
    uses: tj-actions/verify-changed-files@v8.3
    id: verify-changed-files
    with:
      files: |
        out
  - name: 'Deploy ğŸ’¾'
    if: steps.verify-changed-files.outputs.files_changed == 'true'
    uses: s0/git-publish-subdir-action@develop
    env:
      REPO: self
      BRANCH: release
      FOLDER: out
      GITHUB_TOKEN: ${{ secrets.POD_DATA_GEN }}
